#!/usr/bin/perl -w

use strict;

=pod

Starting with the number 1 and moving to the right in a clockwise direction a 5 by 5 spiral is formed as follows:

	5 x 5:
	21 22 23 24 25
	20  7  8  9 10
	19  6  1  2 11
	18  5  4  3 12
	17 16 15 14 13

It can be verified that the sum of the numbers on the diagonals is 101.

What is the sum of the numbers on the diagonals in a 1001 by 1001 spiral formed in the same way?


	6 x 6:
	43 44 45 46 47 48 49
	42 21 22 23 24 25 26
	41 20  7  8  9 10 27
	40 19  6  1  2 11 28
	39 18  5  4  3 12 29
	38 17 16 15 14 13 30
	37 36 35 34 33 32 31

	10 x 10:
	211 212 213 214 215 216 217 218 219 220 221 222 223 224 225
	210 157 158 159 160 161 162 163 164 165 166 167 168 169 170
	209 156 111 113 112 114 115 116 117 118 119 120 121 122 171
	208 155 110  73  74  75  76  77  78  79  80  81  82 123 172
	207 154 109  72  43  44  45  46  47  48  49  50  83 124 173
	206 153 108  71  42  21  22  23  24  25  26  51  84 125 174
	205 152 107  70  41  20   7   8   9  10  27  52  85 126 175
	204 151 106  69  40  19   6   1   2  11  28  53  86 127 176
	203 150 105  68  39  18   5   4   3  12  29  54  87 128 177
	202 149 104  67  38  17  16  15  14  13  30  55  88 129 178
	201 148 103  66  37  36  35  34  33  32  31  56  89 130 179
	200 147 102  65  64  63  62  61  60  59  58  57  90 131 180
	199 146 101 100  99  98  97  96  95  94  93  92  91 132 181
	198 145 144 143 142 141 140 139 138 137 136 135 134 133 182
	197 196 195 194 193 192 191 190 189 188 187 186 185 184 183

=cut

my $size = shift;
my $sum = 0;

for (my $i = 1; $i <= $size; $i++){
	if ($i % 2 == 0){ # even
		# print ("adding: " . ($i ** 2 + 1) . "\n");
		$sum += $i ** 2 + 1;
		if ($i > 1){
			$sum += (($i ** 2 + 1) - $i);
			$sum += (($i ** 2 + 1) + $i);
			# print ("adding: " . (($i ** 2 + 1) - $i) . "\n");
			# print ("adding: " . (($i ** 2 + 1) + $i) . "\n");
		}
	} else { # odd
		# print ("adding: " . ($i ** 2) . "\n");
		$sum += $i ** 2;
	}
}

print "and the answer is: $sum\n";
